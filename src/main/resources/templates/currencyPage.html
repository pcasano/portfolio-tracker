<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Trades</title>
    <link th:href="@{/style.css}" rel="stylesheet">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" th:inline="javascript">
      google.charts.load('current', {
        'packages':['geochart', 'corechart'],
      });
      google.charts.setOnLoadCallback(drawRegionsMap);

      google.charts.setOnLoadCallback(drawChart);

      // ---------- load countries data -------------
      var countryData = /*[[${listOfCountries}]]*/
        var mainCountryData = [];
        var data2 = ['Country', 'Value'];
        mainCountryData.push(data2);
     for (i = 0; i < countryData.length; i++) {
        mainCountryData.push([countryData[i][0], countryData[i][1]]);
     }

        // ---------------- draw geo chart -----------------
      function drawRegionsMap() {
        var finalCountryData = google.visualization.arrayToDataTable(mainCountryData);
        var countryOptions = {
        colors: ['#C5E8B7','#2EB62C'],
          backgroundColor: '#DCDCDC',
         chartArea:{
            backgroundColor: '#DCDCDC'
        }
        };
        var countryChart = new google.visualization.GeoChart(document.getElementById('country_chart'));

        countryChart.draw(finalCountryData, countryOptions);
      }



      // ---------- load currency data -------------
      var currencyData = /*[[${listOfCurrencies}]]*/
        var mainCurrencyData = [];
        var currencyHeaderData = ['Currency', 'Value'];
        mainCurrencyData.push(currencyHeaderData);
     for (i = 0; i < currencyData.length; i++) {
        mainCurrencyData.push([currencyData[i][0], currencyData[i][1]]);
     }


      // ---------------- draw pie  chart -----------------
      function drawChart() {
        var finalCurrencyData = google.visualization.arrayToDataTable(mainCurrencyData);

        var currencyOptions = {
          is3D: true,
          backgroundColor: '#DCDCDC',
         chartArea:{
            backgroundColor: '#DCDCDC'
        }
        };

        var currencyChart = new google.visualization.PieChart(document.getElementById('currency_chart'));

        currencyChart.draw(finalCurrencyData, currencyOptions);
        }

    </script>
</head>
<body>
<div class="main">
    <div class="navbar">
        <div class="menu">
            <nav>
                <ul>
                    <li><a href="http://localhost:8088/portfolio-html">Portfolio</a></li>
                    <li><a href="http://localhost:8088/trades-html">Trades</a></li>
                    <li><a href="http://localhost:8088/dividends-html">Dividends</a></li>
                    <li><a href="http://localhost:8088/currency-html">Currency</a></li>
                    <li><a href="#seccion-5">Trends</a></li>
                    <li><a href="#seccion-6">Crypto</a></li>
                </ul>
            </nav>
            <div class="gap-20"></div>
        </div>
    </div>
</div>
<div class="content">
    <div class="gap-60"></div>
    <div class="gap-40"></div>

    <div id="chart">

        <div style="width:180px; border: none;"></div>
        <div id="country_chart" style="width: 700px; height: 450px;"></div>
        <div id="currency_chart" style="width: 700px; height: 450px;"></div>
    </div>
    <div class="gap-60"></div>
    <div class="gap-40"></div>
</div>


</body>
</html>